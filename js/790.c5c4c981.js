"use strict";(self["webpackChunkvue_cli01"]=self["webpackChunkvue_cli01"]||[]).push([[790],{9790:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var o=s(3396),c=s(9242);const u={class:"fixed w-full top-0 bg-gray-600 mb-6 z-20"},i={class:"flex px-4 py-4 justify-start mx-auto items-center backend container"},a={class:"text-xl mx-2"},r=(0,o.Uk)("回到前台"),n={class:"text-xl mx-2"},l=(0,o.Uk)("後台產品列表"),h={class:"text-xl mx-2"},d=(0,o.Uk)("訂單列表"),p={class:"relative mt-20"};function k(t,e,s,k,m,x){const v=(0,o.up)("router-link"),f=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",u,[(0,o._)("nav",i,[(0,o._)("div",a,[(0,o.Wm)(v,{to:"/"},{default:(0,o.w5)((()=>[r])),_:1})]),(0,o._)("div",n,[(0,o.Wm)(v,{to:"/admin/product"},{default:(0,o.w5)((()=>[l])),_:1})]),(0,o._)("div",h,[(0,o.Wm)(v,{to:"/admin/orders"},{default:(0,o.w5)((()=>[d])),_:1})]),(0,o._)("a",{href:"#",class:"text-xl mx-2",onClick:e[0]||(e[0]=(0,c.iM)(((...t)=>x.logout&&x.logout(...t)),["prevent"]))},"登出")])]),(0,o._)("div",p,[m.checkSuccess?((0,o.wg)(),(0,o.j4)(f,{key:0})):(0,o.kq)("",!0)])],64)}var m={name:"DashBoard",data(){return{checkSuccess:!1}},methods:{checkLogin(){this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then((()=>{this.checkSuccess=!0})).catch((t=>{t&&(alert("您尚未登入"),this.$router.push("/login"))}))},logout(){this.$http.post("https://vue3-course-api.hexschool.io/v2/logout").then((t=>{document.cookie="hextoken=;expires=;",alert(t.data.message),this.$router.push("/login")}))}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hextoken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,t?this.checkLogin():(alert("您尚未登入"),this.$router.push("/login"))}},x=s(89);const v=(0,x.Z)(m,[["render",k]]);var f=v}}]);
//# sourceMappingURL=790.c5c4c981.js.map
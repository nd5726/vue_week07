"use strict";(self["webpackChunkvue_cli01"]=self["webpackChunkvue_cli01"]||[]).push([[363],{8363:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});var a=t(3396),l=t(7139);const r={class:"flex w-full justify-center mt-24"},o=(0,a._)("h1",{class:"text-2xl font-bold mb-8 text-slate-500"},"後台管理介面",-1),i={class:"mb-8 flex flex-col items-start"},u={class:"mb-8 flex flex-col items-start"},d=(0,a._)("button",{type:"submit",class:"w-full bg-slate-500 text-white py-4 tracking-wider"},"LOGIN",-1);function n(e,s,t,n,c,p){const m=(0,a.up)("v-field"),h=(0,a.up)("error-message"),g=(0,a.up)("v-form"),x=(0,a.up)("VLoading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",r,[(0,a.Wm)(g,{class:"w-1/2 max-w-xl bg-white flex flex-col px-8 py-12 shadow-lg",onSubmit:p.loginForm},{default:(0,a.w5)((({errors:e})=>[o,(0,a._)("div",i,[(0,a.Wm)(m,{rules:"email|required",name:"account",type:"text",class:(0,l.C_)([{"border border-red-700":e["account"]},"bg-gray-200 py-4 px-4 outline-0 w-full placeholder:text-gray-400 placeholder:font-light placeholder:text-base tracking-wider"]),modelValue:c.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>c.user.username=e),placeholder:"帳號"},null,8,["class","modelValue"]),(0,a.Wm)(h,{name:"account",class:"text-red-700 pl-2"})]),(0,a._)("div",u,[(0,a.Wm)(m,{rules:"required",type:"password",name:"password",class:(0,l.C_)([{"border border-red-700":e["password"]},"bg-gray-200 py-4 px-4 outline-0 w-full placeholder:text-gray-400 placeholder:font-light placeholder:text-base tracking-wider"]),modelValue:c.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>c.user.password=e),placeholder:"密碼"},null,8,["class","modelValue"]),(0,a.Wm)(h,{name:"password",class:"text-red-700 pl-2"})]),d])),_:1},8,["onSubmit"])]),(0,a.Wm)(x,{active:c.isLoading},null,8,["active"])],64)}var c={data(){return{isLoading:!1,user:{username:"",password:""}}},methods:{loginForm(){this.isLoading=!0,this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then((e=>{alert(e.data.message);const{expired:s,token:t}=e.data;document.cookie=`hextoken=${t}; expires= ${new Date(s)}; `,this.isLoading=!1,this.$router.push("/admin/product")})).catch((e=>{this.isLoading=!1,alert(e.response.data.message),this.user.username="",this.user.password=""}))}}},p=t(89);const m=(0,p.Z)(c,[["render",n]]);var h=m}}]);
//# sourceMappingURL=363.d0f50040.js.map